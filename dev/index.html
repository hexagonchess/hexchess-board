<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Hexchess Board Demo</title>
    <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../node_modules/lit/polyfill-support.js"></script>
    <script type="module">
      import '../src/hexchess-board.ts';
    </script>
  </head>
  <body style="padding: 0px; margin: 0px; overflow: hidden">
    <script>
      const boardPromise = customElements
        .whenDefined('hexchess-board')
        .then(() => document.querySelector('hexchess-board'));

      document.addEventListener('keydown', (event) => {
        event.preventDefault();
      });
      document.addEventListener('keyup', (event) => {
        event.preventDefault();
        if (event.code === 'KeyF') {
          boardPromise.then((board) => board?.flip());
        } else if (event.code === 'ArrowRight') {
          boardPromise.then((board) => board?.fastForward());
        } else if (event.code === 'ArrowLeft') {
          boardPromise.then((board) => board?.rewind());
        } else if (event.code === 'ArrowDown') {
          boardPromise.then((board) => board?.rewindAll());
        } else if (event.code === 'ArrowUp') {
          boardPromise.then((board) => board?.fastForwardAll());
        }
      });
      window.addEventListener('resize', () => {
        boardPromise.then((board) => board?.resize());
      });
      window.onload = () => {
        boardPromise.then((board) => board?.resize());
      };
    </script>
    <div style="width: 100vw; height: 100vh">
      <hexchess-board
        id="hexchess-board"
        turn="white"
        orientation="white"
      >
      </hexchess-board>
    </div>
  </body>
</html>
